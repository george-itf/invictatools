{% comment %}
  ============================================
  BRAND HERO v1.0
  ============================================
  Two-column hero for brand landing pages
  Dark gradient background with stats row
  Trade 15.4.0 Compatible
  ============================================
{% endcomment %}

{{ 'brand-page.css' | asset_url | stylesheet_tag }}

<section class="brand-hero" id="brand-hero-{{ section.id }}">
  <div class="page-width">
    <div class="brand-hero__grid">

      {%- comment -%} Left Column - Content {%- endcomment -%}
      <div class="brand-hero__content">

        {%- comment -%} Brand Logo {%- endcomment -%}
        {%- if section.settings.brand_logo != blank -%}
          <div class="brand-hero__logo-wrap">
            <img
              src="{{ section.settings.brand_logo | image_url: width: 200 }}"
              alt="{{ section.settings.brand_logo.alt | default: 'Brand logo' }}"
              width="120"
              height="{{ 120 | divided_by: section.settings.brand_logo.aspect_ratio | default: 120 | round }}"
              loading="eager"
              class="brand-hero__logo"
            >
          </div>
        {%- endif -%}

        {%- comment -%} Dealer Badge {%- endcomment -%}
        {%- if section.settings.dealer_badge != blank -%}
          <span class="brand-hero__badge">
            <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/>
              <polyline points="22 4 12 14.01 9 11.01"/>
            </svg>
            {{ section.settings.dealer_badge }}
          </span>
        {%- endif -%}

        {%- comment -%} Headline {%- endcomment -%}
        <h1 class="brand-hero__headline">
          <span class="brand-hero__headline-line1">{{ section.settings.headline_line_1 }}</span>
          {%- if section.settings.headline_line_2 != blank -%}
            <br><span class="brand-hero__headline-line2">{{ section.settings.headline_line_2 }}</span>
          {%- endif -%}
        </h1>

        {%- comment -%} Subtitle {%- endcomment -%}
        {%- if section.settings.subtitle != blank -%}
          <p class="brand-hero__subtitle">{{ section.settings.subtitle }}</p>
        {%- endif -%}

        {%- comment -%} Stats Row {%- endcomment -%}
        <div class="brand-hero__stats">
          {%- if section.settings.stat_1_value != blank -%}
            <div class="brand-hero__stat">
              <span class="brand-hero__stat-value">{{ section.settings.stat_1_value }}</span>
              <span class="brand-hero__stat-label">{{ section.settings.stat_1_label }}</span>
            </div>
          {%- endif -%}
          {%- if section.settings.stat_2_value != blank -%}
            <div class="brand-hero__stat">
              <span class="brand-hero__stat-value">{{ section.settings.stat_2_value }}</span>
              <span class="brand-hero__stat-label">{{ section.settings.stat_2_label }}</span>
            </div>
          {%- endif -%}
          {%- if section.settings.stat_3_value != blank -%}
            <div class="brand-hero__stat">
              <span class="brand-hero__stat-value">{{ section.settings.stat_3_value }}</span>
              <span class="brand-hero__stat-label">{{ section.settings.stat_3_label }}</span>
            </div>
          {%- endif -%}
        </div>

        {%- comment -%} CTA Buttons {%- endcomment -%}
        <div class="brand-hero__ctas">
          {%- if section.settings.primary_cta_text != blank and section.settings.primary_cta_url != blank -%}
            <a href="{{ section.settings.primary_cta_url }}" class="brand-hero__btn brand-hero__btn--primary">
              {{ section.settings.primary_cta_text }}
              <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
                <path d="M5 12h14M12 5l7 7-7 7"/>
              </svg>
            </a>
          {%- endif -%}
          {%- if section.settings.secondary_cta_text != blank and section.settings.secondary_cta_url != blank -%}
            <a href="{{ section.settings.secondary_cta_url }}" class="brand-hero__btn brand-hero__btn--secondary">
              {{ section.settings.secondary_cta_text }}
            </a>
          {%- endif -%}
        </div>

      </div>

      {%- comment -%} Right Column - Image
        PERF: This image is hidden below 992px (display:none in brand-page.css).
        Use loading="lazy" so mobile/tablet browsers skip the download.
        Desktop still loads it promptly since it's in the viewport.
      {%- endcomment -%}
      <div class="brand-hero__image-wrap">
        {%- if section.settings.hero_image != blank -%}
          <img
            src="{{ section.settings.hero_image | image_url: width: 800 }}"
            srcset="{{ section.settings.hero_image | image_url: width: 400 }} 400w,
                    {{ section.settings.hero_image | image_url: width: 600 }} 600w,
                    {{ section.settings.hero_image | image_url: width: 800 }} 800w"
            sizes="(max-width: 749px) 100vw, 50vw"
            alt="{{ section.settings.hero_image.alt | default: 'Brand hero image' }}"
            width="{{ section.settings.hero_image.width | default: 800 }}"
            height="{{ section.settings.hero_image.height | default: 600 }}"
            loading="lazy"
            class="brand-hero__image"
          >
        {%- else -%}
          <div class="brand-hero__image-placeholder">
            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" aria-hidden="true">
              <rect x="3" y="3" width="18" height="18" rx="2"/>
              <circle cx="8.5" cy="8.5" r="1.5"/>
              <polyline points="21 15 16 10 5 21"/>
            </svg>
          </div>
        {%- endif -%}
      </div>

    </div>
  </div>
</section>

{% schema %}
{
  "name": "Brand Hero",
  "tag": "section",
  "class": "section-brand-hero",
  "settings": [
    {
      "type": "header",
      "content": "Logo & Badge"
    },
    {
      "type": "image_picker",
      "id": "brand_logo",
      "label": "Brand Logo"
    },
    {
      "type": "text",
      "id": "dealer_badge",
      "label": "Dealer Badge Text",
      "default": "Authorised UK Dealer"
    },
    {
      "type": "header",
      "content": "Headlines"
    },
    {
      "type": "text",
      "id": "headline_line_1",
      "label": "Headline Line 1",
      "default": ""
    },
    {
      "type": "text",
      "id": "headline_line_2",
      "label": "Headline Line 2 (highlighted)",
      "default": ""
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitle",
      "default": ""
    },
    {
      "type": "header",
      "content": "Stats"
    },
    {
      "type": "text",
      "id": "stat_1_value",
      "label": "Stat 1 Value",
      "default": ""
    },
    {
      "type": "text",
      "id": "stat_1_label",
      "label": "Stat 1 Label",
      "default": ""
    },
    {
      "type": "text",
      "id": "stat_2_value",
      "label": "Stat 2 Value",
      "default": ""
    },
    {
      "type": "text",
      "id": "stat_2_label",
      "label": "Stat 2 Label",
      "default": ""
    },
    {
      "type": "text",
      "id": "stat_3_value",
      "label": "Stat 3 Value",
      "default": ""
    },
    {
      "type": "text",
      "id": "stat_3_label",
      "label": "Stat 3 Label",
      "default": ""
    },
    {
      "type": "header",
      "content": "Buttons"
    },
    {
      "type": "text",
      "id": "primary_cta_text",
      "label": "Primary Button Text",
      "default": "Shop All"
    },
    {
      "type": "url",
      "id": "primary_cta_url",
      "label": "Primary Button URL"
    },
    {
      "type": "text",
      "id": "secondary_cta_text",
      "label": "Secondary Button Text",
      "default": "Browse by Category"
    },
    {
      "type": "url",
      "id": "secondary_cta_url",
      "label": "Secondary Button URL"
    },
    {
      "type": "header",
      "content": "Hero Image"
    },
    {
      "type": "image_picker",
      "id": "hero_image",
      "label": "Hero Image"
    }
  ],
  "presets": [
    {
      "name": "Brand Hero"
    }
  ]
}
{% endschema %}
