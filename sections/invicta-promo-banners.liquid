{% comment %}
  Invicta Promo Banners v6.0
  --------------------------
  • Two clickable banner placeholders
  • Banner 1: Winter Workwear
  • Banner 2: Black Friday
  • Full banner click (no "shop all" button)
{% endcomment %}

{% style %}
.invicta-promos {
  padding: 40px 0;
  background: #f8f9fa;
}

.invicta-promos__grid {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 24px;
  max-width: 1400px;
  margin: 0 auto;
  padding: 0 24px;
}

@media (max-width: 749px) {
  .invicta-promos__grid {
    grid-template-columns: 1fr;
    gap: 16px;
    padding: 0 16px;
  }
}

.invicta-promo {
  position: relative;
  border-radius: 20px;
  overflow: hidden;
  aspect-ratio: 16 / 9;
  cursor: pointer;
  transition: transform 250ms ease-out, box-shadow 250ms ease-out;
  text-decoration: none;
  display: block;
}

.invicta-promo:hover {
  transform: translateY(-6px);
  box-shadow: 0 20px 50px rgba(0, 0, 0, 0.2);
}

.invicta-promo::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 1;
  pointer-events: none;
}

/* Winter Workwear Banner */
.invicta-promo--winter {
  background: linear-gradient(135deg, #1e3a5f 0%, #0d253d 100%);
}

.invicta-promo--winter::before {
  background: 
    radial-gradient(circle at 90% 10%, rgba(255, 255, 255, 0.15) 0%, transparent 40%),
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 80 80'%3E%3Ctext x='40' y='50' font-size='40' text-anchor='middle' fill='%23ffffff' opacity='0.08'%3E❄️%3C/text%3E%3C/svg%3E") repeat;
}

/* Black Friday Banner */
.invicta-promo--blackfriday {
  background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
}

.invicta-promo--blackfriday::before {
  background: 
    radial-gradient(circle at 20% 80%, rgba(225, 29, 38, 0.4) 0%, transparent 50%),
    radial-gradient(circle at 85% 20%, rgba(254, 204, 0, 0.3) 0%, transparent 40%),
    linear-gradient(45deg, transparent 40%, rgba(255, 255, 255, 0.02) 50%, transparent 60%);
}

/* Content */
.invicta-promo__content {
  position: absolute;
  inset: 0;
  z-index: 2;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding: 36px 40px;
  color: #ffffff;
}

@media (max-width: 600px) {
  .invicta-promo__content {
    padding: 24px;
  }
}

.invicta-promo__tag {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 16px;
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(4px);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 999px;
  font-size: 0.75rem;
  font-weight: 800;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin-bottom: 16px;
  width: fit-content;
}

.invicta-promo__tag svg {
  width: 14px;
  height: 14px;
}

.invicta-promo__title {
  font-size: clamp(1.5rem, 1rem + 2vw, 2.4rem);
  font-weight: 900;
  line-height: 1.1;
  margin: 0 0 12px;
  max-width: 320px;
}

.invicta-promo__subtitle {
  font-size: 1rem;
  font-weight: 500;
  opacity: 0.9;
  max-width: 280px;
  line-height: 1.5;
  margin: 0;
}

/* Hover indicator */
.invicta-promo__arrow {
  position: absolute;
  bottom: 24px;
  right: 24px;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(4px);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 2;
  transition: transform 200ms, background 200ms;
}

.invicta-promo:hover .invicta-promo__arrow {
  transform: translateX(4px);
  background: rgba(255, 255, 255, 0.25);
}

.invicta-promo__arrow svg {
  width: 24px;
  height: 24px;
  stroke: #ffffff;
}

/* Black Friday special styling */
.invicta-promo--blackfriday .invicta-promo__tag {
  background: #e11d26;
  border-color: #e11d26;
}

.invicta-promo--blackfriday .invicta-promo__title {
  background: linear-gradient(90deg, #ffffff 0%, #fecc00 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Countdown for Black Friday (optional) */
.invicta-promo__countdown {
  display: flex;
  gap: 12px;
  margin-top: 16px;
}

.invicta-promo__countdown-item {
  text-align: center;
}

.invicta-promo__countdown-value {
  display: block;
  font-size: 1.5rem;
  font-weight: 900;
  color: #fecc00;
  line-height: 1;
}

.invicta-promo__countdown-label {
  font-size: 0.7rem;
  text-transform: uppercase;
  opacity: 0.7;
  letter-spacing: 0.05em;
}
{% endstyle %}

{%- liquid
  comment
    Date-window visibility: if start/end dates are set, only show banners within the window.
    Dates should be entered as YYYY-MM-DD. Uses shop timezone via Shopify's "now".
    If dates are blank, the banner always shows.
  endcomment
  assign now_ts = 'now' | date: '%s' | plus: 0

  assign show_banner_1 = true
  if section.settings.banner_1_start != blank
    assign b1_start_ts = section.settings.banner_1_start | append: ' 00:00' | date: '%s' | plus: 0
    if b1_start_ts > 0 and now_ts < b1_start_ts
      assign show_banner_1 = false
    endif
  endif
  if section.settings.banner_1_end != blank
    assign b1_end_ts = section.settings.banner_1_end | append: ' 23:59' | date: '%s' | plus: 0
    if b1_end_ts > 0 and now_ts > b1_end_ts
      assign show_banner_1 = false
    endif
  endif

  assign show_banner_2 = true
  if section.settings.banner_2_start != blank
    assign b2_start_ts = section.settings.banner_2_start | append: ' 00:00' | date: '%s' | plus: 0
    if b2_start_ts > 0 and now_ts < b2_start_ts
      assign show_banner_2 = false
    endif
  endif
  if section.settings.banner_2_end != blank
    assign b2_end_ts = section.settings.banner_2_end | append: ' 23:59' | date: '%s' | plus: 0
    if b2_end_ts > 0 and now_ts > b2_end_ts
      assign show_banner_2 = false
    endif
  endif
-%}

{%- if show_banner_1 or show_banner_2 -%}
<section class="invicta-promos">
  <div class="invicta-promos__grid">

    {%- if show_banner_1 -%}
    <a href="{{ section.settings.banner_1_link | default: '/collections/all' }}" class="invicta-promo invicta-promo--winter">
      <div class="invicta-promo__content">
        <span class="invicta-promo__tag">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2v20M2 12h20M4.93 4.93l14.14 14.14M19.07 4.93L4.93 19.07"/>
          </svg>
          {{ section.settings.banner_1_tag | default: 'New Arrivals' }}
        </span>
        <h2 class="invicta-promo__title">{{ section.settings.banner_1_title | default: 'Latest Power Tools' }}</h2>
        <p class="invicta-promo__subtitle">{{ section.settings.banner_1_subtitle | default: 'Browse the latest tools from top trade brands.' }}</p>
      </div>
      <div class="invicta-promo__arrow">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M5 12h14M12 5l7 7-7 7"/>
        </svg>
      </div>
    </a>
    {%- endif -%}

    {%- if show_banner_2 -%}
    <a href="{{ section.settings.banner_2_link | default: '/collections/deals' }}" class="invicta-promo invicta-promo--blackfriday">
      <div class="invicta-promo__content">
        <span class="invicta-promo__tag">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
          </svg>
          {{ section.settings.banner_2_tag | default: 'Special Offers' }}
        </span>
        <h2 class="invicta-promo__title">{{ section.settings.banner_2_title | default: 'Deals & Savings' }}</h2>
        <p class="invicta-promo__subtitle">{{ section.settings.banner_2_subtitle | default: 'Great prices on Makita, DeWalt, HiKOKI and more.' }}</p>
      </div>
      <div class="invicta-promo__arrow">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M5 12h14M12 5l7 7-7 7"/>
        </svg>
      </div>
    </a>
    {%- endif -%}

  </div>
</section>
{%- endif -%}

{% schema %}
{
  "name": "Invicta Promo Banners",
  "settings": [
    {
      "type": "header",
      "content": "Banner 1"
    },
    {
      "type": "text",
      "id": "banner_1_tag",
      "label": "Tag text",
      "default": "New Arrivals"
    },
    {
      "type": "text",
      "id": "banner_1_title",
      "label": "Title",
      "default": "Latest Power Tools"
    },
    {
      "type": "text",
      "id": "banner_1_subtitle",
      "label": "Subtitle",
      "default": "Browse the latest tools from top trade brands."
    },
    {
      "type": "url",
      "id": "banner_1_link",
      "label": "Link"
    },
    {
      "type": "text",
      "id": "banner_1_start",
      "label": "Start date (YYYY-MM-DD)",
      "info": "Leave blank to always show. Uses shop timezone."
    },
    {
      "type": "text",
      "id": "banner_1_end",
      "label": "End date (YYYY-MM-DD)",
      "info": "Leave blank for no end date."
    },
    {
      "type": "header",
      "content": "Banner 2"
    },
    {
      "type": "text",
      "id": "banner_2_tag",
      "label": "Tag text",
      "default": "Special Offers"
    },
    {
      "type": "text",
      "id": "banner_2_title",
      "label": "Title",
      "default": "Deals & Savings"
    },
    {
      "type": "text",
      "id": "banner_2_subtitle",
      "label": "Subtitle",
      "default": "Great prices on Makita, DeWalt, HiKOKI and more."
    },
    {
      "type": "url",
      "id": "banner_2_link",
      "label": "Link"
    },
    {
      "type": "text",
      "id": "banner_2_start",
      "label": "Start date (YYYY-MM-DD)",
      "info": "Leave blank to always show. Uses shop timezone."
    },
    {
      "type": "text",
      "id": "banner_2_end",
      "label": "End date (YYYY-MM-DD)",
      "info": "Leave blank for no end date."
    }
  ],
  "presets": [
    {
      "name": "Invicta Promo Banners"
    }
  ]
}
{% endschema %}