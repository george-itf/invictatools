{% comment %}
  ============================================================================
  INVICTA HERO SPLIT v2.0
  Trade-style hero with bold promo cards (no floaty white boxes)
  ============================================================================
{% endcomment %}

<style>
  /* ============================================
     HERO SPLIT - MAIN STRUCTURE
     ============================================ */

  .inv-hero-split {
    background: {{ section.settings.background_color }};
    padding: {{ section.settings.padding_top }}px 0 {{ section.settings.padding_bottom }}px;
  }
  
  .inv-hero-split__container {
    max-width: 1400px;
    margin: 0 auto;
    padding: 0 20px;
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 20px;
  }
  
  /* ============================================
     MAIN HERO PANEL
     ============================================ */

  .inv-hero-split__main {
    background: #2d2d2d;
    background-size: cover;
    background-position: center;
    padding: 40px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    min-height: 280px;
    position: relative;
    overflow: hidden;
  }
  
  .inv-hero-split__content {
    max-width: 400px;
    position: relative;
    z-index: 2;
  }
  
  .inv-hero-split__badge {
    display: inline-block;
    background: #dc2626;
    color: #fff;
    padding: 6px 12px;
    font-size: 11px;
    font-weight: 800;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    margin-bottom: 12px;
  }
  
  .inv-hero-split__heading {
    font-size: clamp(26px, 3.5vw, 36px);
    font-weight: 900;
    color: #fff;
    line-height: 1.1;
    margin: 0 0 12px 0;
    text-transform: uppercase;
    letter-spacing: -0.01em;
  }
  
  .inv-hero-split__subheading {
    font-size: 15px;
    color: rgba(255, 255, 255, 0.75);
    margin: 0 0 20px 0;
    line-height: 1.5;
  }
  
  .inv-hero-split__btn {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    background: #dc2626;
    color: #fff;
    padding: 14px 28px;
    font-size: 14px;
    font-weight: 800;
    text-decoration: none;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    transition: background 0.15s, gap 0.15s;
  }
  
  .inv-hero-split__btn:hover {
    background: #b91c1c;
    gap: 12px;
  }

  .inv-hero-split__btn:focus-visible {
    outline: 2px solid #fff;
    outline-offset: 2px;
  }
  
  .inv-hero-split__product-image {
    position: absolute;
    right: 24px;
    bottom: 0;
    max-width: 260px;
    max-height: 90%;
    object-fit: contain;
    z-index: 1;
  }

  /* Mobile image - hidden by default */
  .inv-hero-split__mobile-image {
    display: none;
  }

  /* ============================================
     SIDEBAR PROMO CARDS - BOLD STYLE
     ============================================ */

  .inv-hero-split__side {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  
  .inv-hero-split__card {
    flex: 1;
    display: flex;
    align-items: center;
    gap: 16px;
    padding: 20px 20px 20px 24px;
    text-decoration: none;
    transition: transform 0.15s ease, box-shadow 0.15s ease;
    position: relative;
    overflow: hidden;
  }

  .inv-hero-split__card:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
  }

  .inv-hero-split__card:focus-visible {
    outline: 2px solid #dc2626;
    outline-offset: 2px;
  }

  /* Card style: Sale (Red with stripes) */
  .inv-hero-split__card--sale {
    background: #dc2626;
    color: #fff;
  }

  .inv-hero-split__card--sale::before {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      -45deg,
      transparent,
      transparent 10px,
      rgba(0,0,0,0.06) 10px,
      rgba(0,0,0,0.06) 20px
    );
    pointer-events: none;
  }

  .inv-hero-split__card--sale .inv-hero-split__card-icon {
    background: rgba(255, 255, 255, 0.2);
  }

  .inv-hero-split__card--sale .inv-hero-split__card-icon svg {
    color: #fff;
  }

  /* Card style: Info (Dark) */
  .inv-hero-split__card--info {
    background: #1a1a1a;
    color: #fff;
  }

  .inv-hero-split__card--info .inv-hero-split__card-icon {
    background: rgba(255, 255, 255, 0.1);
  }

  .inv-hero-split__card--info .inv-hero-split__card-icon svg {
    color: #fff;
  }

  /* Card style: Light (Grey) */
  .inv-hero-split__card--light {
    background: #f5f5f5;
    color: #1a1a1a;
  }

  .inv-hero-split__card--light .inv-hero-split__card-icon {
    background: #dc2626;
  }

  .inv-hero-split__card--light .inv-hero-split__card-icon svg {
    color: #fff;
  }

  .inv-hero-split__card--light .inv-hero-split__card-arrow {
    color: #1a1a1a;
  }

  /* Card style: Warning (Amber) */
  .inv-hero-split__card--warning {
    background: #f59e0b;
    color: #1a1a1a;
  }

  .inv-hero-split__card--warning .inv-hero-split__card-icon {
    background: rgba(0, 0, 0, 0.15);
  }

  .inv-hero-split__card--warning .inv-hero-split__card-icon svg {
    color: #1a1a1a;
  }

  .inv-hero-split__card--warning .inv-hero-split__card-arrow {
    color: #1a1a1a;
  }

  /* Card style: Success (Green) */
  .inv-hero-split__card--success {
    background: #16a34a;
    color: #fff;
  }

  .inv-hero-split__card--success .inv-hero-split__card-icon {
    background: rgba(255, 255, 255, 0.2);
  }

  .inv-hero-split__card--success .inv-hero-split__card-icon svg {
    color: #fff;
  }

  /* Card style: Invicta Red (Solid) */
  .inv-hero-split__card--brand {
    background: #dc2626;
    color: #fff;
  }

  .inv-hero-split__card--brand .inv-hero-split__card-icon {
    background: rgba(255, 255, 255, 0.2);
  }

  .inv-hero-split__card--brand .inv-hero-split__card-icon svg {
    color: #fff;
  }

  /* Card style: White (Clean) */
  .inv-hero-split__card--white {
    background: #ffffff;
    color: #1a1a1a;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  }

  .inv-hero-split__card--white .inv-hero-split__card-icon {
    background: #dc2626;
  }

  .inv-hero-split__card--white .inv-hero-split__card-icon svg {
    color: #fff;
  }

  .inv-hero-split__card--white .inv-hero-split__card-arrow {
    color: #1a1a1a;
  }

  /* Card style: Outline (Border only) */
  .inv-hero-split__card--outline {
    background: transparent;
    color: #1a1a1a;
    border: 2px solid #2d2d2d;
  }

  .inv-hero-split__card--outline .inv-hero-split__card-icon {
    background: #2d2d2d;
  }

  .inv-hero-split__card--outline .inv-hero-split__card-icon svg {
    color: #fff;
  }

  .inv-hero-split__card--outline .inv-hero-split__card-arrow {
    color: #1a1a1a;
  }

  /* Card icon */
  .inv-hero-split__card-icon {
    width: 48px;
    height: 48px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-shrink: 0;
  }
  
  .inv-hero-split__card-icon svg {
    width: 24px;
    height: 24px;
  }

  /* Card content */
  .inv-hero-split__card-content {
    flex: 1;
    min-width: 0;
  }
  
  .inv-hero-split__card-content h3 {
    font-size: 15px;
    font-weight: 800;
    line-height: 1.2;
    margin: 0 0 3px 0;
    text-transform: uppercase;
    letter-spacing: -0.01em;
  }
  
  .inv-hero-split__card-content p {
    font-size: 13px;
    font-weight: 500;
    opacity: 0.85;
    margin: 0;
    line-height: 1.3;
  }

  /* Card arrow */
  .inv-hero-split__card-arrow {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
    opacity: 0.6;
    color: #fff;
    transition: transform 0.15s ease, opacity 0.15s ease;
  }

  .inv-hero-split__card:hover .inv-hero-split__card-arrow {
    transform: translateX(3px);
    opacity: 1;
  }

  /* ============================================
     RESPONSIVE
     ============================================ */
  
  @media (max-width: 1024px) {
    .inv-hero-split__container {
      grid-template-columns: 1fr;
    }

    .inv-hero-split__side {
      flex-direction: row;
    }

    .inv-hero-split__card {
      flex: 1;
    }

    .inv-hero-split__product-image {
      max-width: 180px;
    }
  }
  
  @media (max-width: 768px) {
    .inv-hero-split__main {
      display: block;
      text-align: center;
      padding: 0;
      min-height: auto;
      overflow: visible;
      background-image: none !important;
      background: transparent;
    }

    .inv-hero-split__mobile-image {
      display: block !important;
      width: 100%;
      height: auto;
    }

    .inv-hero-split__content {
      display: none;
    }

    .inv-hero-split__product-image {
      display: none;
    }

    .inv-hero-split__side {
      flex-direction: column;
    }

    .inv-hero-split__card {
      padding: 16px 16px 16px 20px;
      gap: 14px;
    }

    .inv-hero-split__card-icon {
      width: 42px;
      height: 42px;
    }

    .inv-hero-split__card-icon svg {
      width: 22px;
      height: 22px;
    }

    .inv-hero-split__card-content h3 {
      font-size: 14px;
    }

    .inv-hero-split__card-content p {
      font-size: 12px;
    }
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .inv-hero-split__btn,
    .inv-hero-split__card,
    .inv-hero-split__card-arrow {
      transition: none;
    }

    .inv-hero-split__card:hover {
      transform: none;
    }
  }
</style>

<section class="inv-hero-split">
  <div class="inv-hero-split__container">
    
    {%- comment -%} MAIN HERO PANEL {%- endcomment -%}
    <div 
      class="inv-hero-split__main" 
      {% if section.settings.main_image %}style="background-image: url('{{ section.settings.main_image | image_url: width: 1200 }}');"{% endif %}
    >
      {%- if section.settings.main_image -%}
        <img
          src="{{ section.settings.main_image | image_url: width: 800 }}"
          srcset="{{ section.settings.main_image | image_url: width: 400 }} 400w, 
                  {{ section.settings.main_image | image_url: width: 600 }} 600w, 
                  {{ section.settings.main_image | image_url: width: 800 }} 800w"
          sizes="(max-width: 768px) 100vw, 800px"
          alt="{{ section.settings.heading | default: 'Hero image' | escape }}"
          class="inv-hero-split__mobile-image"
          loading="eager"
          width="{{ section.settings.main_image.width }}"
          height="{{ section.settings.main_image.height }}"
        >
      {%- endif -%}

      <div class="inv-hero-split__content">
        {%- if section.settings.badge_text != blank -%}
          <span class="inv-hero-split__badge">{{ section.settings.badge_text }}</span>
        {%- endif -%}
        
        {%- if section.settings.heading != blank -%}
          <h1 class="inv-hero-split__heading">{{ section.settings.heading }}</h1>
        {%- endif -%}
        
        {%- if section.settings.subheading != blank -%}
          <p class="inv-hero-split__subheading">{{ section.settings.subheading }}</p>
        {%- endif -%}
        
        {%- if section.settings.button_text != blank -%}
          <a href="{{ section.settings.button_link }}" class="inv-hero-split__btn">
            {{ section.settings.button_text }}
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </a>
        {%- endif -%}
      </div>
      
      {%- if section.settings.hero_product_image -%}
        <img 
          src="{{ section.settings.hero_product_image | image_url: width: 500 }}"
          alt="{{ section.settings.heading | escape }}"
          class="inv-hero-split__product-image"
          loading="eager"
          width="{{ section.settings.hero_product_image.width }}"
          height="{{ section.settings.hero_product_image.height }}"
        >
      {%- endif -%}
    </div>
    
    {%- comment -%} SIDEBAR PROMO CARDS {%- endcomment -%}
    <div class="inv-hero-split__side">
      {%- for block in section.blocks -%}
        {%- if block.type == 'promo_card' -%}
          <a 
            href="{{ block.settings.link }}" 
            class="inv-hero-split__card inv-hero-split__card--{{ block.settings.style }}" 
            {% if block.settings.custom_bg != blank %}style="background: {{ block.settings.custom_bg }};"{% endif %}
            {{ block.shopify_attributes }}
          >
            <div 
              class="inv-hero-split__card-icon"
              {% if block.settings.custom_icon_bg != blank %}style="background: {{ block.settings.custom_icon_bg }};"{% endif %}
            >
              {%- assign icon_style = '' -%}
              {%- if block.settings.custom_icon_color != blank -%}
                {%- assign icon_style = 'style="color: ' | append: block.settings.custom_icon_color | append: ';"' -%}
              {%- endif -%}
              {%- case block.settings.icon -%}
                {%- when 'tag' -%}
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true" {{ icon_style }}>
                    <path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/>
                    <line x1="7" y1="7" x2="7.01" y2="7"/>
                  </svg>
                {%- when 'store' -%}
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true" {{ icon_style }}>
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                    <polyline points="9 22 9 12 15 12 15 22"/>
                  </svg>
                {%- when 'truck' -%}
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true" {{ icon_style }}>
                    <rect x="1" y="3" width="15" height="13"/>
                    <polygon points="16 8 20 8 23 11 23 16 16 16 16 8"/>
                    <circle cx="5.5" cy="18.5" r="2.5"/>
                    <circle cx="18.5" cy="18.5" r="2.5"/>
                  </svg>
                {%- when 'percent' -%}
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true" {{ icon_style }}>
                    <line x1="19" y1="5" x2="5" y2="19"/>
                    <circle cx="6.5" cy="6.5" r="2.5"/>
                    <circle cx="17.5" cy="17.5" r="2.5"/>
                  </svg>
                {%- when 'clock' -%}
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true" {{ icon_style }}>
                    <circle cx="12" cy="12" r="10"/>
                    <polyline points="12 6 12 12 16 14"/>
                  </svg>
                {%- when 'gift' -%}
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true" {{ icon_style }}>
                    <polyline points="20 12 20 22 4 22 4 12"/>
                    <rect x="2" y="7" width="20" height="5"/>
                    <line x1="12" y1="22" x2="12" y2="7"/>
                    <path d="M12 7H7.5a2.5 2.5 0 0 1 0-5C11 2 12 7 12 7z"/>
                    <path d="M12 7h4.5a2.5 2.5 0 0 0 0-5C13 2 12 7 12 7z"/>
                  </svg>
                {%- when 'zap' -%}
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true" {{ icon_style }}>
                    <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                  </svg>
                {%- when 'tool' -%}
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true" {{ icon_style }}>
                    <path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/>
                  </svg>
                {%- when 'battery' -%}
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" aria-hidden="true" {{ icon_style }}>
                    <rect x="2" y="7" width="16" height="10" rx="1"/>
                    <line x1="22" y1="11" x2="22" y2="13"/>
                    <line x1="6" y1="11" x2="6" y2="13"/>
                    <line x1="10" y1="11" x2="10" y2="13"/>
                  </svg>
              {%- endcase -%}
            </div>
            
            <div class="inv-hero-split__card-content">
              <h3 {% if block.settings.custom_title_color != blank %}style="color: {{ block.settings.custom_title_color }};"{% endif %}>{{ block.settings.title }}</h3>
              <p {% if block.settings.custom_subtitle_color != blank %}style="color: {{ block.settings.custom_subtitle_color }}; opacity: 1;"{% endif %}>{{ block.settings.text }}</p>
            </div>
            
            <svg 
              class="inv-hero-split__card-arrow" 
              viewBox="0 0 24 24" 
              fill="none" 
              stroke="currentColor" 
              stroke-width="2.5" 
              aria-hidden="true"
              {% if block.settings.custom_arrow_color != blank %}style="color: {{ block.settings.custom_arrow_color }};"{% endif %}
            >
              <polyline points="9 18 15 12 9 6"/>
            </svg>
          </a>
        {%- endif -%}
      {%- endfor -%}
    </div>
    
  </div>
</section>

{% schema %}
{
  "name": "Hero Split v2",
  "tag": "section",
  "class": "section-hero-split",
  "settings": [
    {
      "type": "header",
      "content": "Main Hero"
    },
    {
      "type": "image_picker",
      "id": "main_image",
      "label": "Background image",
      "info": "Recommended: 1200x400px. Falls back to dark grey."
    },
    {
      "type": "image_picker",
      "id": "hero_product_image",
      "label": "Product image (optional)",
      "info": "Shown on right side of hero panel"
    },
    {
      "type": "text",
      "id": "badge_text",
      "label": "Badge text",
      "default": "January Sale"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "DLX2414ST Kit for Â£269.99 inc VAT"
    },
    {
      "type": "textarea",
      "id": "subheading",
      "label": "Subheading",
      "default": "With a free third 5.0Ah battery. While stocks last."
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button text",
      "default": "See More"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "header",
      "content": "Styling"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Section background",
      "default": "#f5f5f5"
    },
    {
      "type": "range",
      "id": "padding_top",
      "label": "Top padding",
      "min": 0,
      "max": 80,
      "step": 4,
      "default": 20,
      "unit": "px"
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "label": "Bottom padding",
      "min": 0,
      "max": 80,
      "step": 4,
      "default": 20,
      "unit": "px"
    }
  ],
  "blocks": [
    {
      "type": "promo_card",
      "name": "Promo Card",
      "limit": 2,
      "settings": [
        {
          "type": "header",
          "content": "Style"
        },
        {
          "type": "select",
          "id": "style",
          "label": "Card style",
          "default": "sale",
          "options": [
            { "value": "sale", "label": "Sale (Red with stripes)" },
            { "value": "brand", "label": "Brand Red (Solid)" },
            { "value": "info", "label": "Info (Dark)" },
            { "value": "light", "label": "Light (Grey)" },
            { "value": "white", "label": "White (Clean)" },
            { "value": "warning", "label": "Warning (Amber)" },
            { "value": "success", "label": "Success (Green)" },
            { "value": "outline", "label": "Outline (Border only)" }
          ]
        },
        {
          "type": "header",
          "content": "Colour overrides",
          "info": "Leave transparent to use preset colours, or set your own"
        },
        {
          "type": "color",
          "id": "custom_bg",
          "label": "Background colour"
        },
        {
          "type": "color",
          "id": "custom_title_color",
          "label": "Title colour"
        },
        {
          "type": "color",
          "id": "custom_subtitle_color",
          "label": "Subtitle colour"
        },
        {
          "type": "color",
          "id": "custom_icon_bg",
          "label": "Icon background"
        },
        {
          "type": "color",
          "id": "custom_icon_color",
          "label": "Icon colour"
        },
        {
          "type": "color",
          "id": "custom_arrow_color",
          "label": "Arrow colour"
        },
        {
          "type": "header",
          "content": "Content"
        },
        {
          "type": "select",
          "id": "icon",
          "label": "Icon",
          "default": "tag",
          "options": [
            { "value": "tag", "label": "Price tag" },
            { "value": "store", "label": "Store / Click & Collect" },
            { "value": "truck", "label": "Delivery truck" },
            { "value": "percent", "label": "Percent" },
            { "value": "clock", "label": "Clock / Limited time" },
            { "value": "gift", "label": "Gift" },
            { "value": "zap", "label": "Lightning bolt" },
            { "value": "tool", "label": "Tool" },
            { "value": "battery", "label": "Battery" }
          ]
        },
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "January Sales"
        },
        {
          "type": "text",
          "id": "text",
          "label": "Subtitle",
          "default": "Up to 30% off selected tools"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Link"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Hero Split v2",
      "blocks": [
        {
          "type": "promo_card",
          "settings": {
            "style": "sale",
            "icon": "tag",
            "title": "January Sales",
            "text": "Up to 30% off selected tools"
          }
        },
        {
          "type": "promo_card",
          "settings": {
            "style": "info",
            "icon": "store",
            "title": "Click & Collect",
            "text": "Ready in 1 hour at our branches"
          }
        }
      ]
    }
  ]
}
{% endschema %}