{% comment %}
  Minimum Order Quantity
  ======================
  Displays minimum order quantity notice and validates quantity input.
  
  Reads from product metafield: custom.min_qty
  
  Usage: {% render 'min-order-qty', product: product %}
  
  Version: 1.0.0
  Author: Invicta Tools Theme
{% endcomment %}

{%- liquid
  # Get minimum quantity from metafield
  assign min_qty = product.metafields.custom.min_qty.value | default: 1 | plus: 0
  assign has_min_qty = false
  
  if min_qty > 1
    assign has_min_qty = true
  endif
-%}

{%- if has_min_qty -%}
  <div class="invicta-min-qty" data-min-qty="{{ min_qty }}">
    <div class="invicta-min-qty__notice">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="12" cy="12" r="10"></circle>
        <line x1="12" y1="8" x2="12" y2="12"></line>
        <line x1="12" y1="16" x2="12.01" y2="16"></line>
      </svg>
      <span>Minimum order: <strong>{{ min_qty }} units</strong></span>
    </div>
  </div>

  <script src="{{ 'component-min-order-qty.js' | asset_url }}" defer></script>
{%- endif -%}

{{ 'component-min-order-qty.css' | asset_url | stylesheet_tag }}
